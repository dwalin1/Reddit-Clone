<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
<div class="container container-fluid">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="#">Raddit</a>	
  </div>

  <div class="collapse navbar-collapse pull-right" id="bs-example-navbar-collapse-1">
  	<ul class="nav navbar-nav">
		<li>
			<a href="#">Front Page</a>
		</li>
		<li>
			<a href="#subs">Subs</a>
		</li>
    <% if current_user %>
		<li class="dropdown">
			<a class="dropdown-toggle" data-toggle="dropdown">
				<%= current_user.username %><span class="caret"></span>
			</a>
			
			<ul class="dropdown-menu" role="menu">			
				<li>
					<a href="#subs/new">Create Sub</a>
				</li>
				
				<li>
					<a href="#users/<%= current_user.id %>">
						My Profile
					</a>
				</li>
				
				<li>
				<%= link_to "Sign out", session_url, method: :delete %>
				</li>
			</ul>
		</li>
		<% else %>
	  <li>
	  	<a class="btn btn-link" data-toggle="modal" data-target="#login">
	  		Log in
	  	</a>
	  </li>
      <li>
	  	<a class="btn btn-link" data-toggle="modal" data-target="#signup">
	  		Sign up
	  	</a>
      </li>
    </ul>
    <% end %>
  </div>
</div>
</nav>

<% if flash[:errors] %>
<div class="alert alert-warning alert-dismissible" role="alert">
   <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
<%= flash[:errors].join("<br>") %>
</div>
<% end %>

<!--The below uses flash, and therefore never disappears when the user is navigating with Backbone -->
<!-- <% if flash[:notice] %>
	<div class="alert alert-success"><%= flash[:notice] %></div>
<% end %>
	 -->